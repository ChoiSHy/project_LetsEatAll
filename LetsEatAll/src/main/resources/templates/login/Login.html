<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
    <div align="center">
        <h2>로그인</h2>
        <hr>
        <form method="post" id="data">
            <table>
                <tr>
                    <td>ID: </td>
                    <td><input type="text" name="id"></td>
                </tr>
                <tr>
                    <td>PW: </td>
                    <td><input type="password" name="password"></td>
                </tr>
                <tr>
                    <td colspan="2" align="center">
                        <input type="button" id="btn" value="로그인"
                        onclick="tryLogin()">
                        <input type="button" onclick="location.href='/page/sign-up'" value="회원가입">
                    </td>
                </tr>
            </table>

        </form>

    </div>
<script>
    const http = new XMLHttpRequest();;
    const url = 'http://localhost:8080/user/sign-in';

    function tryLogin(){
        let formData = document.getElementById('data');

        let data = {"id":formData.getAttribute('id'),
            "password":formData.getAttribute('password')}
        alert(data)
        http.open('POST', url);
        http.send(JSON.parse(data.toString()));

        http.onreadystatechange = (e) =>{
            console.log(http.);
        }
    }

</script>
</body>
</html>